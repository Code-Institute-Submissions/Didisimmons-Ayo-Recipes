{% extends "base.html" %}
{% block content %}

<div class="container-fluid profile-container">

    <section>
      <div class="row profile">
        <div class="col s12 m8 offset-m2">
          <div class="profile-header card-panel">
            <h3 class="center-align">{{ user.username }}'s Profile</h3>
          </div>
        </div>    
      </div>

    <form class="profile-content center-align" method="POST" action="">
      <div class="row">
        <!-- Full name -->
        <div class="col s12 m6">
          <div class="personal-details">
            <p><strong>Name</strong></p>
            <i class="fas fa-user-plus prefix icon-color">:</i>
            <div class="input-field">
                <label for="full-name"> {{user.full_name}}</label>
                <input id="full-name" name="full-name" type="text" class="validate" data-length="30">
              </div>
          </div>
        </div>

         <!-- mobile number -->
        <div class="col s12 m6">
          <div class="personal-details ">
            <p><strong>Number</strong></p>
            <i class="fas fa-phone-alt prefix icon-color">:</i>
            <div class="input-field">
                <label for="phone" class="phone" > {{ user.phone_number }}</label>
                <input id="phone" name="phone" type="tel" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" class="validate" data-length="13">
              </div>
          </div>
        </div>
      </div>

      <div class="row">
        <!-- About the user  -->
        <div class="col s12 m6">
          <div class="personal-details ">
            <p><strong>About me</strong></p>
            <i class="fas fa-pen prefix icon-color">:</i>
            <div class="input-field">
              <label for="aboutme"> {{ user.about }}</label>
              <input id="aboutme" name="aboutme" type="text" class="materialize-textarea validate" maxlength="140"></input>
            </div>
          </div>
        </div>

        <!-- Email the user   -->
        <div class="col s12 m6">
          <div class="personal-details ">
            <p><strong>Email</strong></p>
            <i class="fas fa-envelope prefix icon-color">:</i>
            <div class="input-field">
                <label for="email">{{ user.email }}</label>
                <input id="email" name="email" type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
              </div>
          </div>
        </div>
      </div>
      <div class="row ">
        <div class="col s12 profile">
          <a href="{{url_for('add_recipe')}}" class="waves-effect amber recipe-button darken-2 ">CREATE RECIPE</a>
          <a href="" class="waves-effect recipe-button amber darken-2"> UPDATE PROFILE</a>
        </div> 
      </div>
  </form>
  </section>

  <section>
    <div class="container">
      {% if recipes|length > 0 %}
        <div class="row recipe-list-container">
          {% for recipe in recipes_user %}
          <div class="col s12 m4">
              <div class="card small ">
                  <div class="card-image ">
                      <a href="{{url_for('single_recipe', recipe_id=recipe._id)}}">
                          <img src="{{ recipe.image_url }}" class="responsive-image" alt="photo of {{ recipe.recipe_name }}">
                      </a>
                  </div>
                  <div class="card-content recipe-list ">
                      <p class="content-header">{{ recipe.recipe_name}}</p>
                        {% for category in recipe.category_name %}
                          <p class="card-text"> <strong>Category:</strong>{{category}}</p>
                        {% endfor %}
                      <p>{{recipe.recipe_time}} mins</p>
                  </div>
              </div>
          </div>
          {% endfor %}
        </div>
        {% else %}
          <div class="error-meesage">
            <h5 class="center-align">No recipes added </h5>
          </div>    
        {% endif %}
  </section>
</div>   
  
{% endblock %}